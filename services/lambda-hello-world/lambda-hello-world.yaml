spec_version: 1
kind: TerraForm
inputs:
  - REGION:
  - ROLE_ARN: PowerUserAccess
  - branch:
  - sandbox_id:
  - lambda_role_arn:
  - base_domain:
  

module:
  source: git::https://github.com/QualiSystemsLab/colony-samples-serverless.git//terraform/lambda-hello-world?ref=${branch}
  

terraform_version: 0.14.5

variables: 
  values:       
    - aws_region: $REGION
    - sandbox_id: $sandbox_id
    - lambda_role_arn: $lambda_role_arn
    - base_domain: $base_domain

permissions:  
  aws:
    role_arn: $ROLE_ARN